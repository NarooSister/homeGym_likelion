## 팀 구성원, 개인 별 역할

---

<aside>
💫 **역할 분담**

| 정동은 | 강사 - 승인, 정산 |
| --- | --- |
| 고기욱 | 회원, 즐겨 찾기, 후기 |
| 김주홍 | 프로그램, 코멘트, 강사 스케줄 |
| 서병준 | 관리자 - 관리, 승인, 정산 |
| 이윤배 | 인증, 카카오 로그인, 회원 가입 |
| 이시은 | Toss Payments 시스템 |
</aside>

## 팀 내부 회의 진행 회차 및 일자

---

- 3회차(2024.04.15) - 디스코드 회의
- 4회차(2024.04.16) - 디스코드 회의
- 5회차(2024.04.17) - 디스코드 회의
- 6회차(2024.04.18) - 디스코드 회의
- 7회차(2024.04.19) - 디스코드 회의

## 현재까지 개발 과정 요약 (최소 500자 이상)

---

현재까지 진행하고 있는 개발 현황을 기능별 목표, 목표달성률, 성과자체평가(상세히) 작성해주세요.

- 성과자체평가는 ‘기술적으로 새로 알게된 점, 어려웠던 점, 아쉬운 점, 시도해볼 점' 등을 작성해 주시면 됩니다 🙂
- 팀원 각자 현재 구현하고 있는 것을 적어주세요. :)
- ex) 기능별 목표: 암기장 삭제하기 기능 추가 / 목표달성률: 50% - 마켓에서 등록해제는 가능, 내 암기장 삭제는 아직 미구현 / 지속적으로 수정사항이 발생하여 완성도를 올리는 중, 현재 관련 문서 참고 중

- 정동은
    1. 강사 회원가입(90%)
    - 검증을 프론트단에서 진행하면서 시간이 오래 걸렸다. 또한 전화번호 분리해서 입력받아서 조합하는 등 쉬워보이는 기능도 script로 짜려니 어려웠다. 구현한 기능 - 이메일 중복 확인, 아이디 중복 확인, 은행에서 기타(직접 입력) 누르면 아래에 칸이 생겨 직접 입력할 수 있는 기능, 이메일 도메인 기타(직접 입력) 기능,  비밀번호 일치, 전화번호 010 / 1111 / 1111 따로 받아서 분리해서 저장하기, 생년월일 birthyear, birthday로 분리하는 기능.
    - PasswordEncodor로 비밀번호 암호화해서 저장해야 하고, 프로필 사진 여러 장 등록 기능을 추가해야한다.
    - 회원 가입 신청 시 DB에 정보는 모두 저장되지만 role이 설정되지 않는다. 나중에 관리자가 회원 가입 수락을 눌러 ROLE_INSTRUCTOR로 변경해야 강사 권한을 얻을 수 있다.
    
    1. 회원 탈퇴(100%)
    - 강사 회원이 회원탈퇴를 진행하면 탈퇴 사유가 저장되고  회원의 state가 WITHDRAWAL_PENDING으로 바뀐다. 나중에 관리자 페이지에서 탈퇴를 승인하면 state만 탈퇴 회원으로 바뀌게 된다.
    
    1. 강사 페이지(80%)
    - 강사 페이지 화면 제작
    - 정산금 띄우기 - 아직 기능 구현중
    - 강사 프로필 이미지와 이름, 평점이 나타난다. 다른 강사 관리 페이지로 진입하는 버튼들이 있다. 프론트를 그럴듯하게 만드는 데 시간이 좀 걸려서 중간에 타협했다.
    
    1. 강사 정보 수정(50%)
    - 강사 정보 수정 페이지 제작 완료.
    - 비밀번호 수정은 어떻게 할 지 생각중이다. 방법 정한 뒤 기능 구현하면 금방 끝날 것 같다.
    
- 고기욱
    
    회원
    
    - 마이페이지 (목표 달성률 80%)
        
        마이페이지에 들어가면 회원은 현재 진행중인 수강목록과 종료된 수강 목록을 볼 수 있다 (목표달성률 100%)
        
        - 수강목록에는 내가 몇회차 중 몇회차까지 진행했는지 볼 수 있다 (목표달성률 100%)
        - 수강프로그램의 이름과 강사의 이름이 나온다 (목표달성률 90%)
        - 프로그램을 클릭하면 프로그램 내용을 상세로 볼 수 있다. (목표달성률 100%)
        - 후기를 작성한 후기면 내가 쓴 후기가 나오고, 없으면 후기를 쓸 수 있다. (목표달성률 70%)
            - 후기작성에는 사진을 올릴 수 있다.
            - 사진은 최대 5장까지 올릴 수 있다.
        - 내가 쓴 후기는 수정 삭제가 가능하다. (목표달성률 100%)
            - 후기 삭제시 첨부했던 사진도 삭제가 된다.
    - 즐겨찾기 (목표달성률 80%)
        - 내가 찜한 목록을 볼 수 있다, (목표달성률 100%)
        - 찜은 삭제가 가능하다 (목표달성률 0%)
    
    성과자체 평가
    
    파일첨부에 대해서 부족했는데 이부분을 더 학습해야 겠다.
    
    - 기술적으로 알게된 점
        
        여러가지 파일을 첨부하려면 일단 form쪽에서는 mutiple 을 붙여주어 여러가지 파일을 전송할 수 있다. 그러면 Control+클릭을 하여 다중파일을 올릴 수 있다.
        
        Entity에서는 @ElementCollection 태그를 달아주고 List<String> imgPaths 형식으로 여러개의 이미지경로를 저장할 수 있다,
        
        하지만 여기서 mutiple 의 형식은 내가 원하는 사진을 첨부하는 방식이 아니었고 다른방식으로 여러개의 사진을 올릴려고 노력하다보니 프론트의 영역이 너무 커져버려 시간이 많이 소모되고 있다 (진행중)
        
- 서병준
    
    역할 : 관리자 페이지
    
    기능별 목표 :  정산페이지 프론트 작업 완료, 데이터 가져오기 진행중
    목표 달성률 : 50%
    
    성과 자체 평가 
    
    - 알게된 점 : 강사 상세 페이지에서 메달을 선택시 각 메달들을 post로 보내게 만들었는데 컨트롤러에서 받을때 @RequestParam을 하나의 메소드 안에서 여러게 받을 수 있다는 사실을 알게 됐다
    - 어려웠던 점 : 프론트 부분을 꾸미는데 생각보다 에너지가 많이 들어서 힘들었다
- 이시은
    - TossPayment 기초 설계
        - 설계 후 개발 진행 중 (50%)
    - order entity 분리
        - 구현 시도 중 (20%)
    
    → 처음 설계시 잘못 이해하여 나누었던 부분들이 있어 수정 작업을 계속 진행 중이다 무한 에러 잡기 & 무한 레퍼런스와 자료 검색하기의 반복 진행 중 / 금일 내로 베이스 잡고 3일 이내로 시스템 구현이 목표
    
- 이윤배
- 김주홍
    - Comment(60%)
        - 프론트 구현 중
    - Schedule(50%)
        - 프론트 구현 예정
    - Program(30~35%)
        - Service(30%), Controller (0%) 구현 됨
    
    성과 자체 평가
    
    - 현재 개발했던 comment와 schedule이 RESTfulAPI 형태로 만들어서 model로 프런트 구현하는데 방향이 조금 틀어져 model을 사용하는 쪽으로 리팩토링이 필요할 것 같고 이번 주 내로 최소 comment와 schedule 쪽을 프런트까지 완성하는 걸로 목표를 잡아 될 것 같습니다.

## 개발 과정에서 나왔던 질문 (최소 200자 이상)

---

개발을 진행하며 나왔던 질문 중 핵심적인 것을 요약하여 작성해 주세요 🙂

- 질의응답 과정 중 해결되지 않은 질문을 정리하여도 좋습니다.

### 정산과 정산금, 수익의 관계

- DB설계하면서 settlement는 강사가 관리자에게 보내는 정산서의 개념, settlement_fee는 강사가 현재 정산할 수 있는 금액과 총 정산 금액을 표시하기 위한 용도로 만들었다.
- 관리자 페이지에서는 강사의 수익을 확인할 수 있고, 수익에 따라 메달을 수여한다.
- 관리자 페이지에서 프로그램마다 강사의 총 수익/ 이번 달 수익 확인 시 가져오는 방법
    - settlement_fee는 강사의 남은 정산금을 파악하기 위한 테이블이므로 관련이 없다.
    - settlement 또한 강사가 정산금을 신청할 때의 정산서이므로 관련이 없다.
    - 프로그램(id=1)마다 강사의 총 수익
        - user_program에서 program_id가 1이고,  UserProgramState가 finish인 amount(가격)를 모두 가져와서 더해준다.
    - 프로그램(id=1) 마다 강사의 이번 달 수익
        - user_program에서 program_id가 1이고, end_time(프로그램 종료된 시각)이 이번 달인 amount를 모두 가져와서 더해준다.

### 다중파일 첨부

초기에는 Entity에 이미지 부분을

```java
String image
```

이렇게만 설정을 하니 여러개의 파일을 받으려면 어떻게 해야하나 고민을 했다

방법은

```java
String image1
String image2
String image3
...
```

이렇게 사진을 갯수를 정해두고 imagePath를 정해두는 방법이 있었고

```java
@ElementCollection
private List<String> images
```

이렇게 *`@ElementCollection`* 어노테이션을 활용하는 방법이 있었다.

*`@ElementCollection`* 은 컬렉션을 매핑해주는 어노테이션이다. 이를통해 엔티티 내부의 복합 타입을 매핑하는데 유용하다.

장점:

1. 복합 타입 매핑: 엔티티 내부에 복잡한 구조의 컬렉션을 포함시킬 수 있으며, 이를 효과적으로 데이터베이스에 매핑할 수 있습니다.
2. 객체 지향적인 설계: 컬렉션을 엔티티 내에 직접적으로 포함시키면 객체 간의 관계를 더 잘 표현할 수 있습니다.
3. 간단한 사용: 어노테이션을 사용하여 간단하게 매핑할 수 있어 개발자가 복잡한 매핑 설정을 구현하지 않아도 됩니다.

단점:

1. 성능 이슈: 대규모 데이터베이스에서는 컬렉션의 크기가 매우 커질 수 있으며, 이는 성능에 영향을 줄 수 있습니다. 특히, Lazy Loading을 사용할 경우 컬렉션에 접근할 때마다 데이터베이스에 추가적인 쿼리가 발생할 수 있습니다.
2. 복잡성: 복합 타입을 매핑하는 과정에서 어려움이 있을 수 있으며, 잘못된 매핑 설정은 데이터 일관성 문제를 발생시킬 수 있습니다.

## 개발 결과물 공유

---

Github Repository URL: 

- 필수) 팀원들과 함께 찍은 인증샷(온라인 만남시 스크린 캡쳐)도 함께 업로드 해주세요 🙂
