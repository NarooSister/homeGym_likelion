<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Comment Management</title>
</head>
<body>

<h1>Comment Management</h1>

<!-- Create Comment Form -->
<h2>Create Comment</h2>
<form id="createCommentForm">
  <label for="reviewId">Review ID:</label>
  <input type="text" id="reviewId" name="reviewId"><br><br>

  <label for="content">Content:</label><br>
  <textarea id="content" name="content" rows="4" cols="50"></textarea><br><br>

  <button type="submit">Create</button>
</form>

<!-- Update Comment Form -->
<h2>Update Comment</h2>
<form id="updateCommentForm">
  <label for="updateReviewId">Review ID:</label>
  <input type="text" id="updateReviewId" name="updateReviewId"><br><br>

  <label for="updateContent">Content:</label><br>
  <textarea id="updateContent" name="updateContent" rows="4" cols="50"></textarea><br><br>

  <label for="commentId">Comment ID:</label>
  <input type="text" id="commentId" name="commentId"><br><br>

  <button type="submit">Update</button>
</form>

<!-- Delete Comment Form -->
<h2>Delete Comment</h2>
<form id="deleteCommentForm">
  <label for="deleteReviewId">Review ID:</label>
  <input type="text" id="deleteReviewId" name="deleteReviewId"><br><br>

  <label for="deleteCommentId">Comment ID:</label>
  <input type="text" id="deleteCommentId" name="deleteCommentId"><br><br>

  <button type="submit">Delete</button>
</form>

<script>
    // Create Comment Form Submission
    document.getElementById('createCommentForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const reviewId = document.getElementById('reviewId').value;
        const content = document.getElementById('content').value;

        const comment = {
            reviewId: reviewId,
            content: content
        };

        fetch('/instructor/1/review/' + reviewId + '/comment', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(comment)
        })
            .then(response => response.json())
            .then(data => {
                alert('Comment created successfully');
                console.log(data);
            })
            .catch(error => {
                alert('Error creating comment');
                console.error('Error:', error);
            });
    });

    // Update Comment Form Submission
    document.getElementById('updateCommentForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const reviewId = document.getElementById('updateReviewId').value;
        const content = document.getElementById('updateContent').value;
        const commentId = document.getElementById('commentId').value;

        const comment = {
            content: content
        };

        fetch('/instructor/1/review/' + reviewId + '/comment/' + commentId, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(comment)
        })
            .then(response => response.json())
            .then(data => {
                alert('Comment updated successfully');
                console.log(data);
            })
            .catch(error => {
                alert('Error updating comment');
                console.error('Error:', error);
            });
    });

    // Delete Comment Form Submission
    document.getElementById('deleteCommentForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const reviewId = document.getElementById('deleteReviewId').value;
        const commentId = document.getElementById('deleteCommentId').value;

        fetch('/instructor/1/review/' + reviewId + '/comment/' + commentId, {
            method: 'DELETE'
        })
            .then(() => {
                alert('Comment deleted successfully');
            })
            .catch(error => {
                alert('Error deleting comment');
                console.error('Error:', error);
            });
    });
</script>

</body>
</html>
