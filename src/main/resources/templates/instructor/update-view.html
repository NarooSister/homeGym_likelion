<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Update Review</title>
    <script>
        function updateReview() {
            const contentValue = document.getElementById('contentValue').value;
            const instructorId = document.getElementById('instructorId').value;
            const reviewId = document.getElementById('reviewId').value;
            const commentId = document.getElementById('commentId').value;

            fetch(`/instructor/${instructorId}/review/${reviewId}/comment/${commentId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ content: contentValue }),
            })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            window.location.href = `/instructor/${instructorId}/review/${reviewId}/comment`;
                        } else {
                            alert(data.message);
                        }
                    });
        }
    </script>
</head>
<body>

<h1>Update Review</h1>

<input type="hidden" id="instructorId" th:value="${instructorId}">
<input type="hidden" id="reviewId" th:value="${reviewId}">
<input type="hidden" id="commentId" th:value="${commentId}">
<input type="hidden" id="contentValue" th:value="${content}">

<div>
    <label for="contentValue">Content:</label>
    <textarea id="contentValue" name="content" th:value="${content}" required></textarea>
</div>
<div>
    <button type="button" onclick="updateReview()">Update</button>
</div>

</body>
</html>
